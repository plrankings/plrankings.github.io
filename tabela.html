<html>
  <head>
    <title>Teste Tabela</title>
    <meta charset="utf-8">

        <!-- Bootstrap core CSS -->
        <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom fonts for this template -->
        <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    
        <!-- Plugin CSS -->
        <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">
    
        <!-- Custom styles for this template -->
        <link href="css/creative.min.css" rel="stylesheet">

        <link href="http://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">

        <link href="css/plr.css" rel="stylesheet">

  </head>
  <style>
  tr:hover {
    color: #495057; 
    background-color: #e9ecef;
    border-color: #dee2e6;

  }

  </style>
  <body>

    <h2>Teste Tabela</h2>

    <div style="margin-top: 1em; margin-bottom: 1em; margin-left: 1em">
    <input type="text" id="search" placeholder="Search and filter on rankings">
    </div>

    <table class="table" id="rankings-table">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Language</th>
            <th scope="col">Ranking</th>
            <th scope="col">Position</th>
            <th scope="col">Prior Pos</th>
            <th scope="col">Change(Pos)</th>
            <th scope="col">Change(%)</th>
            <th scope="col">Last Updated</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">Java</th>
            <td><a href="https://www.tiobe.com/tiobe-index/" target="_blank">
              Tiobe Index</a>
            </td>
            <td><b>1</b></td>
            <td>1</td>
            <td><i class="green fa fa-angle-up" aria-hidden="true"></i> 
              <b class="green">2</b>
            </td>
            <td><b class="green">0.5%</b></td>
            <td><b>12/25/2018</b></td>
          </tr>
          <tr>
            <th scope="row" id="language_column" class="invisible-text">Java</th>
            <td><a href="https://spectrum.ieee.org/static/interactive-the-top-programming-languages-2018" target="_blank">
              IEEE Spectrum</a>
            </td>
            <td><b>2</b></td>
            <td>1</td>
            <td><i class="red fa fa-angle-down" aria-hidden="true"></i> 
              <b class="red">1</b>
            </td>
            <td><b class="red">2.67%</b></td>
            <td><b>12/25/2018</b></td>
          </tr> 
          <tr>
            <th scope="row" id="language_column" class="invisible-text">Java</th>
            <td><a href="http://pypl.github.io/PYPL.html" target="_blank">
              PYPL Index</a>
            </td>
            <td><b>1</b></td>
            <td>1</td>
            <td><i class="neutral far fa-stop-circle" aria-hidden="true"></i> 
            </td>
            <td><b class="neutral">0%</b></td>
            <td><b>12/25/2018</b></td>
          </tr>  
          <tr>
            <th scope="row" id="language_column" class="invisible-text">Java</th>
            <td><a href="https://redmonk.com/sogrady/2018/08/10/language-rankings-6-18/" target="_blank">
              RedMonk</a>
            </td>
            <td><b>1</b></td>
            <td>4</td>
            <td><i class="green fa fa-angle-up" aria-hidden="true"></i> 
              <b class="green">3</b>
            </td>
            <td><b class="green">1.29%</b></td>
            <td><b>12/25/2018</b></td>
          </tr>                               


          <tr>
              <th scope="row">Python</th>
              <td><a href="https://www.tiobe.com/tiobe-index/" target="_blank">
                Tiobe Index</a>
              </td>
              <td><b>1</b></td>
              <td>1</td>
              <td><i class="green fa fa-angle-up" aria-hidden="true"></i> 
                <b class="green">2</b>
              </td>
              <td><b class="green">0.5%</b></td>
              <td><b>12/25/2018</b></td>
            </tr>
            <tr>
              <th scope="row" id="language_column" class="invisible-text">Python</th>
              <td><a href="https://spectrum.ieee.org/static/interactive-the-top-programming-languages-2018" target="_blank">
                IEEE Spectrum</a>
              </td>
              <td><b>2</b></td>
              <td>1</td>
              <td><i class="red fa fa-angle-down" aria-hidden="true"></i> 
                <b class="red">1</b>
              </td>
              <td><b class="red">2.67%</b></td>
              <td><b>12/25/2018</b></td>
            </tr> 
            <tr>
              <th scope="row" id="language_column" class="invisible-text">Python</th>
              <td><a href="http://pypl.github.io/PYPL.html" target="_blank">
                PYPL Index</a>
              </td>
              <td><b>1</b></td>
              <td>1</td>
              <td><i class="neutral far fa-stop-circle" aria-hidden="true"></i> 
              </td>
              <td><b class="neutral">0%</b></td>
              <td><b>12/25/2018</b></td>
            </tr>  
            <tr>
              <th scope="row" id="language_column" class="invisible-text">Python</th>
              <td><a href="https://redmonk.com/sogrady/2018/08/10/language-rankings-6-18/" target="_blank">
                RedMonk</a>
              </td>
              <td><b>1</b></td>
              <td>4</td>
              <td><i class="green fa fa-angle-up" aria-hidden="true"></i> 
                <b class="green">3</b>
              </td>
              <td><b class="green">1.29%</b></td>
              <td><b>12/25/2018</b></td>
            </tr>                               
        </tbody>
      </table>
      
    
    <div>
      <span id="span_last_updated">Last Updated</span>: 
      <b id="b_last_updated">12/29/2018</b>
    </div>
  </body>
</html>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
  <script src="vendor/scrollreveal/scrollreveal.min.js"></script>
  <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

  <!-- Custom scripts for this template -->
  <!--<script src="js/creative.min.js"></script>-->

<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="js/dataTables.rowsGroup.js"></script>

<script>
$(document).ready( function () {
    var table = $('#rankings-table').DataTable({
      "paging": false,
      "searching": true,
    });

    $('#search').on( 'keyup', function () {
      table.search( this.value ).draw();
      var language_columns = $("[id='language_column']");
      console.log(language_columns);
      console.log(language_columns.length);
      if (this.value.length>0 && language_columns.length%3!=0) {
        language_columns.each(function() {
          $(this).removeClass('invisible-text');
          unGroupFirstColumns();
        });
      } else {
        language_columns.each(function() {
          $(this).addClass('invisible-text');
          groupFirstColumns();
        });
      }
    });

    groupFirstColumns();

} );

function groupFirstColumns() {
  // 3,4,5 - 7,8,9
  let group = 1;
  for (l=3; l<(4*20); l++) {
    if (group++ == 4) {
      group = 1;
      continue;
    }
    $(`tbody > tr:nth-child(${l}) > th`).css("border-color","transparent");
  }
}

function unGroupFirstColumns() {
  $(`tbody > tr > th`).css("border-top","1px solid #dee2e6");
}
</script>